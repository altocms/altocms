/*! ===========================================================
 * Bootstrap: fileinput.js v3.1.3
 * http://jasny.github.com/bootstrap/javascript/#fileinput
 * ===========================================================
 * Copyright 2012-2014 Arnold Daniels
 *
 * Licensed under the Apache License, Version 2.0 (the "License")
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
+function(d){var c=window.navigator.appName=="Microsoft Internet Explorer";
var a=function(g,f){this.$element=d(g);this.$input=this.$element.find(":file");if(this.$input.length===0){return}this.name=this.$input.attr("name")||f.name;
this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]');if(this.$hidden.length===0){this.$hidden=d('<input type="hidden">').insertBefore(this.$input)
}this.$preview=this.$element.find(".fileinput-preview");var e=this.$preview.css("height");if(this.$preview.css("display")!=="inline"&&e!=="0px"&&e!=="none"){this.$preview.css("line-height",e)
}this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()};this.listen()};a.prototype.listen=function(){this.$input.on("change.bs.fileinput",d.proxy(this.change,this));
d(this.$input[0].form).on("reset.bs.fileinput",d.proxy(this.reset,this));this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",d.proxy(this.trigger,this));
this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",d.proxy(this.clear,this))},a.prototype.change=function(k){var i=k.target.files===undefined?(k.target&&k.target.value?[{name:k.target.value.replace(/^.+\\/,"")}]:[]):k.target.files;
k.stopPropagation();if(i.length===0){this.clear();return}this.$hidden.val("");this.$hidden.attr("name","");this.$input.attr("name",this.name);var h=i[0];
if(this.$preview.length>0&&(typeof h.type!=="undefined"?h.type.match(/^image\/(gif|png|jpeg)$/):h.name.match(/\.(gif|png|jpe?g)$/i))&&typeof FileReader!=="undefined"){var f=new FileReader();
var j=this.$preview;var g=this.$element;f.onload=function(l){var e=d("<img>");e[0].src=l.target.result;i[0].result=l.target.result;g.find(".fileinput-filename").text(h.name);
if(j.css("max-height")!="none"){e.css("max-height",parseInt(j.css("max-height"),10)-parseInt(j.css("padding-top"),10)-parseInt(j.css("padding-bottom"),10)-parseInt(j.css("border-top"),10)-parseInt(j.css("border-bottom"),10))
}j.html(e);g.addClass("fileinput-exists").removeClass("fileinput-new");g.trigger("change.bs.fileinput",i)};f.readAsDataURL(h)}else{this.$element.find(".fileinput-filename").text(h.name);
this.$preview.text(h.name);this.$element.addClass("fileinput-exists").removeClass("fileinput-new");this.$element.trigger("change.bs.fileinput")}},a.prototype.clear=function(g){if(g){g.preventDefault()
}this.$hidden.val("");this.$hidden.attr("name",this.name);this.$input.attr("name","");if(c){var f=this.$input.clone(true);this.$input.after(f);this.$input.remove();
this.$input=f}else{this.$input.val("")}this.$preview.html("");this.$element.find(".fileinput-filename").text("");this.$element.addClass("fileinput-new").removeClass("fileinput-exists");
if(g!==undefined){this.$input.trigger("change");this.$element.trigger("clear.bs.fileinput")}},a.prototype.reset=function(){this.clear();this.$hidden.val(this.original.hiddenVal);
this.$preview.html(this.original.preview);this.$element.find(".fileinput-filename").text("");if(this.original.exists){this.$element.addClass("fileinput-exists").removeClass("fileinput-new")
}else{this.$element.addClass("fileinput-new").removeClass("fileinput-exists")}this.$element.trigger("reset.bs.fileinput")},a.prototype.trigger=function(f){this.$input.trigger("click");
f.preventDefault()};var b=d.fn.fileinput;d.fn.fileinput=function(e){return this.each(function(){var g=d(this),f=g.data("bs.fileinput");if(!f){g.data("bs.fileinput",(f=new a(this,e)))
}if(typeof e=="string"){f[e]()}})};d.fn.fileinput.Constructor=a;d.fn.fileinput.noConflict=function(){d.fn.fileinput=b;return this};d(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(h){var g=d(this);
if(g.data("bs.fileinput")){return}g.fileinput(g.data());var f=d(h.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');if(f.length>0){h.preventDefault();
f.trigger("click.bs.fileinput")}})}(window.jQuery);